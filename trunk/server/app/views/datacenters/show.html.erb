<%- @tooltips = [] %>
<%- @page_title = "Datacenter: " + h(@datacenter.name) %>

<div class="record_view">

<h1><%= tooltip(NodeRack,:datacenter) %>: <%=h @datacenter.name %></h1>

<p><%= link_to 'Visualization', visualization_datacenter_path(@datacenter) %>

<p><strong><%= tooltip(Datacenter,:manager) %>:</strong> <%=h @datacenter.manager %><br />
<strong><%= tooltip(Datacenter,:support_phone_number) %>:</strong> <%=h @datacenter.support_phone_number %><br />
<strong><%= tooltip(Datacenter,:support_email) %>:</strong> <%=h @datacenter.support_email %><br />
<strong><%= tooltip(Datacenter,:support_url) %>:</strong> <%=h @datacenter.support_url %></p>

<p><strong><%= tooltip(Datacenter,:physical_address) %>:</strong><br />
<%= textilize_without_paragraph(h(@datacenter.physical_address)) %></p>

<p><strong><%= tooltip(Datacenter,:shipping_address) %>:</strong><br />
<%= textilize_without_paragraph(h(@datacenter.shipping_address)) %></p>

<p class="metadata"><strong><%= tooltip(Datacenter,:created_at) %>:</strong> <%= h(@datacenter.created_at) %><br />
<strong><%= tooltip(Datacenter,:updated_at) %>:</strong> <%= h(@datacenter.updated_at) %></p>

</div> 

<div class="relationship">

<div id="datacenter_node_rack_assignments">
<%= render :partial => 'node_rack_assignments', :locals => { :datacenter => @datacenter} %>
</div> <!-- end datacenter_node_rack_assignments -->

<div id="create_rack_assignment">
<%= render :partial => 'shared/create_assignment', :locals => { :from => 'datacenter', :to => 'node_rack'} %>
</div>

<p id="new_node_rack">

</p>

<p id="add_rack_assignment_link">
<%= render :partial => 'shared/add_inline_link', :locals => { :from => 'datacenter', :to => 'node_rack'} %>
</p>

</div> <!-- end relationship -->


<!-- vip no longer directly associated to datacenter.  VIP info can be received by looking at which load balancer, may implement into this view later -->
<%- if false -%>
  <div class="relationship">
  
  <div id="datacenter_vip_assignments">
  <%= render :partial => 'vip_assignments', :locals => { :datacenter => @datacenter} %>
  </div> <!-- end datacenter_vip_assignments -->
  
  <div id="create_vip_assignment">
  <%= render :partial => 'shared/create_assignment', :locals => { :from => 'datacenter', :to => 'vip'} %>
  </div>
  
  <p id="new_vip">
  
  </p>
  
  <p id="add_vip_assignment_link">
  <%= render :partial => 'shared/add_inline_link', :locals => { :from => 'datacenter', :to => 'vip'} %>
  </p>
  
  </div> <!-- end relationship -->
<%- end -%>

<div class="relationship">

<%= render :partial => 'shared/comments', :locals => { :object => @datacenter} %>

</div> <!-- end relationship -->

<div class="relationship">

<%= link_to 'Search', "#{nodes_path}?exact_datacenter=#{CGI.escape(@datacenter.name)}" %> for nodes located at this datacenter.

</div> <!-- end relationship -->

<p><%= link_to 'Edit', edit_datacenter_path(@datacenter) %> | 
<%= link_to 'Delete', datacenter_path(@datacenter), :confirm => 'Are you sure?', :method => :delete %></p>

<%= render :partial => 'shared/version_information', :locals => { :object => @datacenter} %>

<%= javascript_tag "Element.hide('create_rack_assignment')" %>
<%= javascript_tag "Element.hide('create_vip_assignment')" %>

<%= javascript_tag "_datacenter_id = "+@datacenter.id.to_s %>

<%= @tooltips %>
